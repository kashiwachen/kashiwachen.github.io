<!doctype html><html lang=en data-theme=dark><head><title></title><meta charset=utf-8><meta name=generator content="Hugo 0.80.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content><link rel=stylesheet href=https://kashiwachen.github.io/css/style.min.1b320c0791722ac0a6fdde1a95f96f83202fa700fec413f074399ec757ac5bed.css integrity="sha256-GzIMB5FyKsCm/d4alflvgyAvpwD+xBPwdDmex1esW+0=" crossorigin=anonymous type=text/css><link rel=stylesheet href=https://kashiwachen.github.io/css/markupHighlight.min.9755453ffb7bc4cd220f86ebb5922107b49f193cc62fc17e9785d27b33a8bf5b.css integrity="sha256-l1VFP/t7xM0iD4brtZIhB7SfGTzGL8F+l4XSezOov1s=" crossorigin=anonymous type=text/css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel="shortcut icon" href=https://kashiwachen.github.iofavicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=https://kashiwachen.github.ioapple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://kashiwachen.github.iofavicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://kashiwachen.github.iofavicon-16x16.png><link rel=canonical href=https://kashiwachen.github.io/tech_knowledge/database_structure/><script type=text/javascript src=https://kashiwachen.github.io/js/anatole-header.min.d8599ee07b7d3f11bafbac30657ccc591e8d7fd36a9f580cd4c09e24e0e4a971.js integrity="sha256-2Fme4Ht9PxG6+6wwZXzMWR6Nf9Nqn1gM1MCeJODkqXE=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="数据库架构 如何设计数据库，使用什么类型的数据库，就是一个架构师必须了解的。所有的数据库的共同点都是以某种方式存储数据，以某种接口来访问存储的数据。
常用概念  水平分割（横打散） 垂直分割（列打散） 按照某一列数据的特性（时间）去分割表格。 垂直、水平分割结合运用  架构模式 在实际项目中，很多人会把架构模式跟架构概念混为一谈，实际上他们是两个东西。 数据库架构主要分为2种：
  单库+缓存设计
  多库设计之主从读写分离。 多库架构中，又有两种比较流行的数据存储方式：集群数据库、分布式数据库。
  单库与多库的优缺点 若按架构进行开发，架构越长远，那么开发周期内需要考虑的东西越多，且初期数据量并不能够达到该架构要的负载瓶颈。 在IT创业界有句话，叫三月一版本，三年一重构，而一次重构的架构设计，就应该是考虑到三年后的数据量，还有负载、抗压能力。他人经验：单库+缓存的数据库设计也完全能够轻轻松松做到百万级，乃至于千万级的数据抗压。
架构中的注意事项  模块切割 分析常用字段 应完全避免为空设计（免NULL） 尽可能将字段定义为NOT NULL。MySQL难以优化使用了可空列的查询，它会使索引、索引统计和值更加复杂。 在表中存储可为空的字段，也是有办法不使用NULL的，可以考虑使用0，特殊值或字符串来代替它。  不同类型的数据库架构 关系型数据库 关系型数据库以数据表Table为核心来存储数据。数据是一行一行的表记录Record。表之间通过关联关系相互关联。 关系模型是表(行，列)组成的二维结构。SQL是关系型数据库的统一查询接口。
关系型数据库的架构设计，主要是要解决存储和事务。存储是要解决数据的查询问题。而事务则包含了四个特性，A（原子性）C（一致性）I（隔离性）D（持久性）。
Ref: MySql什么是数据库架构设计
谈谈数据库架构"></head><body><div class="sidebar ."><div class=logo-title><div class=title><img src=https://kashiwachen.github.io alt="profile picture"><h3><a href=/></a></h3><div class=description><p></p></div></div></div><ul class=social-links></ul><div class=footer><div class=by_farbox>&copy; 2022</div></div></div><div class=main><div class="page-top ."><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span><span aria-hidden=true></span><span aria-hidden=true></span></a><ul class=nav id=navMenu><li><a href=/>Home</a></li><li><a href=/post/>Posts</a></li><li><a href=/about/>About</a></li></ul></div><div class=autopagerize_page_element><div class=content><div class="post ."><div class=post-content><div class=post-title><h3></h3></div><h1 id=数据库架构>数据库架构</h1><p>如何设计数据库，使用什么类型的数据库，就是一个架构师必须了解的。所有的数据库的共同点都是以某种方式存储数据，以某种接口来访问存储的数据。</p><h2 id=常用概念>常用概念</h2><ul><li>水平分割（横打散）</li><li>垂直分割（列打散）
按照某一列数据的特性（时间）去分割表格。</li><li>垂直、水平分割结合运用</li></ul><h2 id=架构模式>架构模式</h2><p>在实际项目中，很多人会把架构模式跟架构概念混为一谈，实际上他们是两个东西。
数据库架构主要分为2种：</p><ul><li><p>单库+缓存设计</p></li><li><p>多库设计之主从读写分离。
多库架构中，又有两种比较流行的数据存储方式：集群数据库、分布式数据库。</p></li></ul><h2 id=单库与多库的优缺点>单库与多库的优缺点</h2><p>若按架构进行开发，架构越长远，那么开发周期内需要考虑的东西越多，且<strong>初期数据量</strong>并不能够达到该架构要的<em>负载瓶颈</em>。
在IT创业界有句话，叫三月一版本，三年一重构，而一次重构的架构设计，就应该是考虑到三年后的数据量，还有负载、抗压能力。他人经验：单库+缓存的数据库设计也完全能够轻轻松松做到百万级，乃至于千万级的数据抗压。</p><h2 id=架构中的注意事项>架构中的注意事项</h2><ol><li>模块切割</li><li>分析常用字段</li><li>应完全避免为空设计（免NULL）
尽可能将字段定义为NOT NULL。MySQL难以优化使用了可空列的查询，它会使索引、索引统计和值更加复杂。
在表中存储可为空的字段，也是有办法不使用NULL的，可以考虑使用0，<strong>特殊值</strong>或字符串来代替它。</li></ol><h2 id=不同类型的数据库架构>不同类型的数据库架构</h2><h3 id=关系型数据库>关系型数据库</h3><p>关系型数据库以数据表Table为核心来存储数据。数据是一行一行的表记录Record。表之间通过关联关系相互关联。 关系模型是表(行，列)组成的二维结构。SQL是关系型数据库的统一查询接口。</p><p>关系型数据库的架构设计，<em><strong>主要是要解决存储和事务</strong></em>。存储是要解决数据的查询问题。而事务则包含了四个特性，A（原子性）C（一致性）I（隔离性）D（持久性）。</p><h2 id=ref>Ref:</h2><p><a href=https://zhuanlan.zhihu.com/p/29368249>MySql什么是数据库架构设计</a></p><p><a href=https://zhuanlan.zhihu.com/p/107336513>谈谈数据库架构</a></p></div><div class=post-footer><div class=info></div></div></div></div></div></div><script type=text/javascript src=https://kashiwachen.github.io/js/jquery.min.86b1e8f819ee2d9099a783e50b49dff24282545fc40773861f9126b921532e4c.js integrity="sha256-hrHo+BnuLZCZp4PlC0nf8kKCVF/EB3OGH5EmuSFTLkw=" crossorigin=anonymous></script><script type=text/javascript src=https://kashiwachen.github.io/js/bundle.min.0f9c74cb78f13d1f15f33daff4037c70354f98acfbb97a6f61708966675c3cae.js integrity="sha256-D5x0y3jxPR8V8z2v9AN8cDVPmKz7uXpvYXCJZmdcPK4=" crossorigin=anonymous></script><script type=text/javascript src=https://kashiwachen.github.io/js/medium-zoom.min.92f21c856129f84aeb719459b3e6ac621a3032fd7b180a18c04e1d12083f8aba.js integrity="sha256-kvIchWEp+ErrcZRZs+asYhowMv17GAoYwE4dEgg/iro=" crossorigin=anonymous></script></body></html>